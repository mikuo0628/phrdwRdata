<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Retrieves data from SSRS URLs. — read_ssrs • phrdwRdata</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieves data from SSRS URLs. — read_ssrs"><meta name="description" content="SQL Server Reporting Services (SSRS) built by PHSA enables an alternative
way for users to retrieve public health data containing identifiers."><meta property="og:description" content="SQL Server Reporting Services (SSRS) built by PHSA enables an alternative
way for users to retrieve public health data containing identifiers."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phrdwRdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/FAQ.html">Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/Legacy.html">Legacy Usage of `get_phrdw_data()`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mikuo0628/phrdwRdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Retrieves data from SSRS URLs.</h1>
      <small class="dont-index">Source: <a href="https://github.com/mikuo0628/phrdwRdata/blob/main/R/read_ssrs.R" class="external-link"><code>R/read_ssrs.R</code></a></small>
      <div class="d-none name"><code>read_ssrs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>SQL Server Reporting Services (SSRS) built by PHSA enables an alternative
way for users to retrieve public health data containing identifiers.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_ssrs</span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">username</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CSV"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  .explore <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  .skip <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>SSRS url.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>SSRS reports' built-in filters. See <code>Details</code>.</p></dd>


<dt id="arg-username">username<a class="anchor" aria-label="anchor" href="#arg-username"></a></dt>
<dd><p>User ID (without email domain). See <code>Details</code>.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>Some SSRS reports offer multiple formats to download. Currently only
csv is supported and is the default value. May be extended in the future.</p></dd>


<dt id="arg--explore">.explore<a class="anchor" aria-label="anchor" href="#arg--explore"></a></dt>
<dd><p>If you are unsure what filters you could use for your SSRS report,
set this to <code>TRUE</code> and a list of currently supported filters and their
default values will be printed in the console.</p></dd>


<dt id="arg--skip">.skip<a class="anchor" aria-label="anchor" href="#arg--skip"></a></dt>
<dd><p>SSRS reports in csv format may contain lines above the headers
(meta info, descriptions, etc). You may not wish to have this in your
data frame. If in your first run you noted there are lines above the
headers, you can enter number of lines to skip here.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>tibble</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function provides an interface to pull data into R environment by
leveraging the following packages/tools:</p><ul><li><p><code>keyring</code>: handles user credential elegantly.</p></li>
<li><p><code>httr2</code>: handles HTTP requests and responses following Microsoft
documentation on REST APIs for Reporting Services
(<a href="https://learn.microsoft.com/en-us/sql/reporting-services/developer/rest-api?view=sql-server-ver16" class="external-link">https://learn.microsoft.com/en-us/sql/reporting-services/developer/rest-api?view=sql-server-ver16</a>).</p></li>
</ul><p>There are some helper parameters to assist users with the report's built-in
filters and output formats. However, how the report is set up may be very
different from one to another. Please always double check to ensure what
you get is what you intended.</p>
<p>The helper to determine filters is <code>.explore</code>. If you set it to <code>TRUE</code>,
you may get something similar to the following message printed in your
console:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  Default User Input<span class="sc">:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    health_authority<span class="sc">:</span> No input detected; possibly checkbox?</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    death_date_from <span class="sc">:</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1</span><span class="sc">/</span><span class="dv">2015</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    death_date_to   <span class="sc">:</span> <span class="dv">5</span><span class="sc">/</span><span class="dv">20</span><span class="sc">/</span><span class="dv">2025</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span></code></pre><p></p></div>
<p>To use filters in this function, simply refer to what's printed above, and
add them as part of the function:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/read_ssrs.html">read_ssrs</a></span><span class="op">(</span></span>
<span>  url             <span class="op">=</span> <span class="va">YOUR_SSRS_URL</span>,</span>
<span>  death_date_from <span class="op">=</span> <span class="st">'1/1/2015'</span>,</span>
<span>  death_date_to   <span class="op">=</span> <span class="st">'5/20/2025'</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>Your user credential is managed by <code>keyring</code> package. This prevents you
from entering your credentials in the console or saving it in the script,
which are both not ideal practices for security.</p>
<p><code>keyring</code> will leverage your operating system's credential manager to
handle your saved credential.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Data &amp; Informatics, Darren Frizzell, BCCDC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

